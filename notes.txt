Example code from previous work:
-----
    curly= ("curl -i -XPOST 'http://admin:password@localhost:8086/write?db=database_name&precision=ms' --data-binary 'balances,account=%s value=%s,other=%s %s'" % (matchObj102[0][0],matchObj102[1][1],matchObj102[2][1],wilmcd_gdate))
-----
    from subprocess import call
    status = call(curly, shell=True)
----
influx retention

CREATE DATABASE rtlamr

ALTER RETENTION POLICY "autogen" ON "rtlamr" DURATION 1w REPLICATION 1 SHARD DURATION 1h DEFAULT
CREATE RETENTION POLICY "30d_1h"  ON "rtlamr" DURATION 30d REPLICATION 1 SHARD DURATION 1d
CREATE RETENTION POLICY "5y_1d"  ON "rtlamr" DURATION 1825d REPLICATION 1 SHARD DURATION 30d



-- Aggregate cumulative data into 1h intervals. Look at the non-negative difference
-- between the largest consumption value 1h apart.

CREATE CONTINUOUS QUERY "1h_power" ON "rtlamr"
RESAMPLE EVERY 1h FOR 4h
BEGIN
	SELECT sum("consumption") AS "consumption"
	INTO "30d_1h"."power"
	FROM "autogen"."rtlamr"
	WHERE "msg_type" = 'differential'
	GROUP BY time(1h), *
	TZ('America/New_York')
END

CREATE CONTINUOUS QUERY "1d_power" ON "rtlamr"
RESAMPLE EVERY 1d FOR 2d
BEGIN
	SELECT sum("consumption") AS "consumption"
	INTO "5y_1d"."power"
	FROM "30d_1h"."power"
	WHERE "msg_type" = 'differential'
	GROUP BY time(1d), *
	TZ('America/New_York')
END

